### 软件定时器
#### [12-1]  软件定时器的本质

1. 定时器就是一个结构体，成员包括：
   - flag： 一次性还是周期性
   - period： 周期
   - function： 执行什么函数
   - parms： 函数的输入参数
   - list: 链表项
2. 在硬件中断的函数中，处理软件定时器
   - 判断TimerList中有没有超时的Timer
   - 若有，调用其超时函数（又称为执行中断上下文）
   
   由于在中断中，因此要求定时器的函数要尽量执行的快，所以将上述流程改为：   
   若有，则通知/唤醒（写队列）一个“TimerTask”，在此任务中去读队列，执行超时函数

   Freertos中就是用第二种方法
   注意要求定时器任务的优先级足够高，否则该定时器可能不生效；如果调整不了优先级，则要求其他任务不能一直运行，要改为事件驱动的方式





---   
#### [12-2]  软件定时器——增加游戏音效
相关代码：[28_timer_game_sound](../MDK5/28_timer_game_sound/nwatch/beep.c) 

现象：
- 启动PWM发出声音，启动定时器
- 定时器时间到了，停止PWM以静音

注意：定时器创建后，需要调用函数来启动定时器


TODO: 再梳理梳理调度器开始调度时创建的定时器任务与自定义的定时器连着怎么通过队列进行同步的